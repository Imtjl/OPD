<!-- # Отчет по лабораторной работе №1 -->
#### «Национальный исследовательский университет ИТМО»
### Основы профессиональной деятельности
## Лабораторная работа 5
## Вариант 3101
### Хабнер Георгий, P3131
###  2023

## Задание
> По выданному преподавателем варианту разработать программу асинхронного обмена данными с внешним устройством. При помощи программы осуществить ввод или вывод информации, используя в качестве подтверждения данных сигнал (кнопку) готовности ВУ.
    1. Программа осуществляет асинхронный ввод данных с ВУ-2
    2. Программа начинается с адреса 0EE16. Размещаемая строка находится по адресу 61216.
    3. Строка должна быть представлена в кодировке ISO-8859-5.
    4. Формат представления строки в памяти: АДР1: СИМВ1 СИМВ2 АДР2: СИМВ3 СИМВ4 ... СТОП_СИМВ.
    5. Ввод или вывод строки должен быть завершен по символу c кодом 0D (CR). Стоп символ является обычным символом строки и подчиняется тем же правилам расположения в памяти что и другие символы строки.

## Код программы

| Адрес | Код команды | Мнемоника  | Описание                                                |
|-------|-------------|------------|---------------------------------------------------------|
| 0EE   | 0612        | ARR        | Ссылка начала размещаемой строки                        |
| 0EF   | 0000        | ADR        | Текущая ссылка размещения                               |
| 0F0   | 000D        | FINISH     | Стоп-слово                                              |
| 0F1   | 0200        | CLA        | 0 -> AC                                                 |
| 0F2   | AEFB        | LD ARR     | AC = ARR                                                |
| 0F3   | EEFB        | ST ADR     | AC -> ADR                                               |
| 0F4   | 1205        | IN 5       | Чтение регистра ВУ-2                                    |
| 0F5   | 2F40        | AND #40    | AC & #40 -> AC                                          |
| 0F6   | F0FD        | BEQ IP-3   | возврат на чтение SR ВУ-2, если SR не выставлен         |
| 0F7   | 1204        | IN 4       | Чтение DR ВУ-2                                          |
| 0F8   | 0680        | SWAB       | Обмен мл. и ст. байт                                    |
| 0F9   | E8F5        | ST (ADR)   | AC -> (ADR)                                             |
| 0FA   | 0680        | SWAB       | Обмен мл. и ст. байт                                    |
| 0FB   | 2EF4        | AND FINISH | AC = AC & FINISH                                        |
| 0FC   | 6EF3        | SUB FINISH | AC = AC - FINISH                                        |
| 0FD   | F00A        | BEQ IP+10  | завершение программы, если введенное слово - стоп-слово |
| 0FE   | 1205        | IN 5       | Чтение регистра ВУ-2                                    |
| 0FF   | 2F40        | AND #40    | AC & #40 -> AC                                          |
| 100   | F0FD        | BEQ IP-3   | возврат на чтение SR ВУ-2, если SR не выставлен         |
| 101   | A8ED        | LD (ADR)   | загрузка первого символа в AC                           |
| 102   | 1204        | IN 4       | Чтение DR ВУ-2                                          |
| 103   | EAEB        | ST (ADR)+  | AC -> (ADR)+                                            |
| 104   | 2EEB        | AND FINISH | AC = AC & FINISH                                        |
| 105   | 6EEA        | SUB FINISH | AC = AC - FINISH                                        |
| 106   | F001        | BEQ IP+1   | завершение программы, если введенное слово - стоп-слово |
| 107   | CEEC        | JUMP 0x0F4 | Переход к началу считывания                             |
| 108   | 0100        | HLT        | Остановка                                               |

##Назначение прогрммы

•	Программа осуществляет асинхронный ввод данных с ВУ–2

##ОДЗ программы

•	Вводимый символ: [0;255]
•	ARR ϵ [0x612;0x7FE]

##ОП программы
•	ARR (0x0EE) – ссылка на адрес размещаемой строки
•   ADR (0x0EF) – текущая ссылка размещения
•	FINISH (0x0F0) – символьный код в кодировке ISO-8859-5

##Трассировка

Входные данные:

- Cтрока в кодировке ISO-8859-5: (Астролог ) B0 C1 C2 C0 BE BB BE B3 0D
   

| Адр | Знчн | IP   | CR   | AR  | DR   | SP  | BR   | AC   | PS  | NZVC | Адр | Знчн |
|-----|------|------|------|-----|------|-----|------|------|-----|------|-----|------|
| 0F1 | 0200 | 0F2  | 0200 | 0F1 | 0200 | 000 | 00F1 | 0000 | 004 | 0100 |     |      |
| 0F2 | AEFB | 0F3  | AEFB | 0EE | 0612 | 000 | FFFB | 0612 | 000 | 0000 |     |      |
| 0F3 | EEFB | 0F4  | EEFB | 0EF | 0612 | 000 | FFFB | 0612 | 000 | 0000 | 0EF | 0612 |
| 0F4 | 1205 | 0F5  | 1205 | 0F4 | 1205 | 000 | 00F4 | 0640 | 000 | 0000 |     |      |
| 0F5 | 2F40 | 0F6  | 2F40 | 0F5 | 0040 | 000 | 0040 | 0040 | 000 | 0000 |     |      |
| 0F6 | F0FD | 0F7  | F0FD | 0F6 | F0FD | 000 | 00F6 | 0040 | 000 | 0000 |     |      |
| 0F7 | 1204 | 0F8  | 1204 | 0F7 | 1204 | 000 | 00F7 | 00B0 | 000 | 0000 |     |      |
| 0F8 | 7EF7 | 0F9  | 7EF7 | 0F0 | 000D | 000 | FFF7 | 00B0 | 001 | 0001 |     |      |
| 0F9 | F00B | 0FA  | F00B | 0F9 | F00B | 000 | 00F9 | 00B0 | 001 | 0001 |     |      |
| 0FA | 0680 | 0FB  | 0680 | 0FA | 0680 | 000 | 00FA | B000 | 009 | 1001 |     |      |
| 0FB | E8F3 | 0FC  | E8F3 | 612 | B000 | 000 | FFF3 | B000 | 009 | 1001 | 612 | B000 |
| 0FC | 1205 | 0FD  | 1205 | 0FC | 1205 | 000 | 00FC | B040 | 009 | 1001 |     |      |
| 0FD | 2F40 | 0FE  | 2F40 | 0FD | 0040 | 000 | 0040 | 0040 | 001 | 0001 |     |      |
| 0FE | F0FD | 0FF  | F0FD | 0FE | F0FD | 000 | 00FE | 0040 | 001 | 0001 |     |      |
| 0FF | 1204 | 100  | 1204 | 0FF | 1204 | 000 | 00FF | 00C1 | 001 | 0001 |     |      |
| 100 | 7EEF | 101  | 7EEF | 0F0 | 000D | 000 | FFEF | 00C1 | 001 | 0001 |     |      |
| 101 | F003 | 102  | F003 | 101 | F003 | 000 | 0101 | 00C1 | 001 | 0001 |     |      |
| 102 | 38EC | 103  | 38EC | 612 | B000 | 000 | 4F3E | B0C1 | 009 | 1001 |     |      |
| 103 | EAEB | 104  | EAEB | 612 | B0C1 | 000 | FFEB | B0C1 | 009 | 1001 | 0EF | 0613 |
| ,   | 612  | B0C1 |      |     |      |     |      |      |     |      |     |      |
| 104 | CEEF | 0F4  | CEEF | 104 | 00F4 | 000 | FFEF | B0C1 | 009 | 1001 |     |      |
| 0F4 | 1205 | 0F5  | 1205 | 0F4 | 1205 | 000 | 00F4 | B040 | 009 | 1001 |     |      |
| 0F5 | 2F40 | 0F6  | 2F40 | 0F5 | 0040 | 000 | 0040 | 0040 | 001 | 0001 |     |      |
| 0F6 | F0FD | 0F7  | F0FD | 0F6 | F0FD | 000 | 00F6 | 0040 | 001 | 0001 |     |      |
| 0F7 | 1204 | 0F8  | 1204 | 0F7 | 1204 | 000 | 00F7 | 00C2 | 001 | 0001 |     |      |
| 0F8 | 7EF7 | 0F9  | 7EF7 | 0F0 | 000D | 000 | FFF7 | 00C2 | 001 | 0001 |     |      |
| 0F9 | F00B | 0FA  | F00B | 0F9 | F00B | 000 | 00F9 | 00C2 | 001 | 0001 |     |      |
| 0FA | 0680 | 0FB  | 0680 | 0FA | 0680 | 000 | 00FA | C200 | 009 | 1001 |     |      |
| 0FB | E8F3 | 0FC  | E8F3 | 613 | C200 | 000 | FFF3 | C200 | 009 | 1001 | 613 | C200 |
| 0FC | 1205 | 0FD  | 1205 | 0FC | 1205 | 000 | 00FC | C240 | 009 | 1001 |     |      |
| 0FD | 2F40 | 0FE  | 2F40 | 0FD | 0040 | 000 | 0040 | 0040 | 001 | 0001 |     |      |
| 0FE | F0FD | 0FF  | F0FD | 0FE | F0FD | 000 | 00FE | 0040 | 001 | 0001 |     |      |
| 0FF | 1204 | 100  | 1204 | 0FF | 1204 | 000 | 00FF | 00C0 | 001 | 0001 |     |      |
| 100 | 7EEF | 101  | 7EEF | 0F0 | 000D | 000 | FFEF | 00C0 | 001 | 0001 |     |      |
| 101 | F003 | 102  | F003 | 101 | F003 | 000 | 0101 | 00C0 | 001 | 0001 |     |      |
| 102 | 38EC | 103  | 38EC | 613 | C200 | 000 | 3D3F | C2C0 | 009 | 1001 |     |      |
| 103 | EAEB | 104  | EAEB | 613 | C2C0 | 000 | FFEB | C2C0 | 009 | 1001 | 0EF | 0614 |
| ,   | 613  | C2C0 |      |     |      |     |      |      |     |      |     |      |
| 104 | CEEF | 0F4  | CEEF | 104 | 00F4 | 000 | FFEF | C2C0 | 009 | 1001 |     |      |
| 0F4 | 1205 | 0F5  | 1205 | 0F4 | 1205 | 000 | 00F4 | C240 | 009 | 1001 |     |      |
| 0F5 | 2F40 | 0F6  | 2F40 | 0F5 | 0040 | 000 | 0040 | 0040 | 001 | 0001 |     |      |
| 0F6 | F0FD | 0F7  | F0FD | 0F6 | F0FD | 000 | 00F6 | 0040 | 001 | 0001 |     |      |
| 0F7 | 1204 | 0F8  | 1204 | 0F7 | 1204 | 000 | 00F7 | 00BE | 001 | 0001 |     |      |
| 0F8 | 7EF7 | 0F9  | 7EF7 | 0F0 | 000D | 000 | FFF7 | 00BE | 001 | 0001 |     |      |
| 0F9 | F00B | 0FA  | F00B | 0F9 | F00B | 000 | 00F9 | 00BE | 001 | 0001 |     |      |
| 0FA | 0680 | 0FB  | 0680 | 0FA | 0680 | 000 | 00FA | BE00 | 009 | 1001 |     |      |
| 0FB | E8F3 | 0FC  | E8F3 | 614 | BE00 | 000 | FFF3 | BE00 | 009 | 1001 | 614 | BE00 |
| 0FC | 1205 | 0FD  | 1205 | 0FC | 1205 | 000 | 00FC | BE40 | 009 | 1001 |     |      |
| 0FD | 2F40 | 0FE  | 2F40 | 0FD | 0040 | 000 | 0040 | 0040 | 001 | 0001 |     |      |
| 0FE | F0FD | 0FF  | F0FD | 0FE | F0FD | 000 | 00FE | 0040 | 001 | 0001 |     |      |
| 0FF | 1204 | 100  | 1204 | 0FF | 1204 | 000 | 00FF | 00BB | 001 | 0001 |     |      |
| 100 | 7EEF | 101  | 7EEF | 0F0 | 000D | 000 | FFEF | 00BB | 001 | 0001 |     |      |
| 101 | F003 | 102  | F003 | 101 | F003 | 000 | 0101 | 00BB | 001 | 0001 |     |      |
| 102 | 38EC | 103  | 38EC | 614 | BE00 | 000 | 4144 | BEBB | 009 | 1001 |     |      |
| 103 | EAEB | 104  | EAEB | 614 | BEBB | 000 | FFEB | BEBB | 009 | 1001 | 0EF | 0615 |
| ,   | 614  | BEBB |      |     |      |     |      |      |     |      |     |      |
| 104 | CEEF | 0F4  | CEEF | 104 | 00F4 | 000 | FFEF | BEBB | 009 | 1001 |     |      |
| 0F4 | 1205 | 0F5  | 1205 | 0F4 | 1205 | 000 | 00F4 | BE40 | 009 | 1001 |     |      |
| 0F5 | 2F40 | 0F6  | 2F40 | 0F5 | 0040 | 000 | 0040 | 0040 | 001 | 0001 |     |      |
| 0F6 | F0FD | 0F7  | F0FD | 0F6 | F0FD | 000 | 00F6 | 0040 | 001 | 0001 |     |      |
| 0F7 | 1204 | 0F8  | 1204 | 0F7 | 1204 | 000 | 00F7 | 00B3 | 001 | 0001 |     |      |
| 0F8 | 7EF7 | 0F9  | 7EF7 | 0F0 | 000D | 000 | FFF7 | 00B3 | 001 | 0001 |     |      |
| 0F9 | F00B | 0FA  | F00B | 0F9 | F00B | 000 | 00F9 | 00B3 | 001 | 0001 |     |      |
| 0FA | 0680 | 0FB  | 0680 | 0FA | 0680 | 000 | 00FA | B300 | 009 | 1001 |     |      |
| 0FB | E8F3 | 0FC  | E8F3 | 615 | B300 | 000 | FFF3 | B300 | 009 | 1001 | 615 | B300 |
| 0FC | 1205 | 0FD  | 1205 | 0FC | 1205 | 000 | 00FC | B340 | 009 | 1001 |     |      |
| 0FD | 2F40 | 0FE  | 2F40 | 0FD | 0040 | 000 | 0040 | 0040 | 001 | 0001 |     |      |
| 0FE | F0FD | 0FF  | F0FD | 0FE | F0FD | 000 | 00FE | 0040 | 001 | 0001 |     |      |
| 0FF | 1204 | 100  | 1204 | 0FF | 1204 | 000 | 00FF | 000D | 001 | 0001 |     |      |
| 100 | 7EEF | 101  | 7EEF | 0F0 | 000D | 000 | FFEF | 000D | 005 | 0101 |     |      |
| 101 | F003 | 105  | F003 | 101 | F003 | 000 | 0003 | 000D | 005 | 0101 |     |      |
| 105 | 0100 | 106  | 0100 | 105 | 0100 | 000 | 0105 | 000D | 005 | 0101 |     |      |
